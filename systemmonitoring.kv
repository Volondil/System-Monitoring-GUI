#: import SlideTransition kivy.uix.screenmanager.SlideTransition

<MainWindow>:
    name: 'MainWindow'
    id: main_window
    FloatLayout:
        canvas.after:
            Color:
                rgba: 1, 1, 1, 1
            Line:
                width: 1.5
                points: ((root.width / 3), 0, (root.width / 3), root.height)
        FloatLayout:
            canvas:
                Color:
                    rgba: 0.15, 0.15, 0.15, 1
                Rectangle:
                    pos: (root.width / 3), 0
                    size: ((root.width / 3) * 2), root.height
            ScreenManager:
                id: sm
                size_hint_y: 1
                MonitoringScreen:
                OptionsScreen:
                AboutScreen:
        FloatLayout:
            canvas:
                Color:
                    rgba: 0.15, 0.15, 0.15, 1
                Rectangle:
                    pos: self.x, self.y
                    size: root.width / 3, root.height
            Button:
                id: btn_resources
                text: 'Moniteur Ressources'
                font_size: 20
                background_color: 0, 0.55, 0.85, 1
                size_hint: 1/3, 1/10
                pos_hint: {'x': 0, 'y': 0.9}
                on_press:
                    sm.transition = SlideTransition()
                    sm.current = 'monitoring_screen'
            Button:
                id: btn_options
                text: 'Options'
                font_size: 20
                background_color: 0.45, 0.45, 0.45, 1
                size_hint: 1/3, 1/10
                pos_hint: {'x': 0, 'y': 0.8}
                on_press:
                    sm.transition = SlideTransition()
                    sm.current = 'options_screen'
            Button:
                id: btn_about
                text: "A Propos"
                font_size: 20
                background_color: 0.45, 0.45, 0.45, 1
                size_hint: 1/3, 1/10
                pos_hint: {'x': 0, 'y': 0.7}
                on_press:
                    sm.transition = SlideTransition()
                    sm.current = 'about_screen'

<MonitoringScreen>:
    name: 'monitoring_screen'
    on_pre_enter: app.root.ids.btn_resources.background_color = [0, 0.55, 0.85, 1]
    on_pre_leave: app.root.ids.btn_resources.background_color = [0.45, 0.45, 0.45, 1]

    ScrollView:
        size_hint: 2/3, 1
        pos_hint: {'x': 1/3, 'y': 0}
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 5
        scroll_type: ['bars', 'content']
        effect_cls: 'ScrollEffect'
        BoxLayout:
            orientation: 'vertical'
            id: main_box
            size_hint_y: None
            height: self.minimum_height

            BoxLayout:
                orientation: 'vertical'
                id: sys_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: "Système"
                    font_size: 22
                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: "Système d'exploitation"
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Linux Manjaro'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Noyau'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Linux-6.1.31-2-MANJARO-x86_64'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Processeur'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'AMD Ryzen 5 3600 6-Core'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Processeur Graphique'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: app.GPU.name
                        text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                id: cpu_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'CPU'
                    font_size: 22

                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Charge'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '0 %'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Fréquence'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '2.78 GHZ'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Température'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '45 °C'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Cache L1'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '192KB'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Cache L2'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '3MiB'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Cache L3'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '32MiB'
                        text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                id: memory_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'Memory'
                    font_size: 22
                
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'SWAP'
                    GridLayout:
                        cols: 2
                        size_hint_y: None
                        height: self.minimum_height

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Totale'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: '4GB'
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Utilisée'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: '2GB'
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Charge'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: '50 %'
                            text_size: self.size
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'RAM'
                    GridLayout:
                        cols: 2
                        size_hint_y: None
                        height: self.minimum_height

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Totale'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: '16GB'
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Utilisée'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: '4GB'
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Charge'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: '25 %'
                            text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                id: gpu_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'GPU'
                    font_size: 22
                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Charge'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: app.GPU.load
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Fréquence'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: app.GPU.clock
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Fréquence Max'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: app.GPU.maxClock
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Température'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: app.GPU.temp
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Température (Puce)'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: app.GPU.chipTemp
                        text_size: self.size

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Ventilateurs'
                    GridLayout:
                        cols: 2
                        size_hint_y: None
                        height: self.minimum_height

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Mode'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.fansMode
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Vitesse'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.fansSpeed
                            text_size: self.size

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Mémoire'
                    GridLayout:
                        cols: 2
                        size_hint_y: None
                        height: self.minimum_height

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Totale'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.memMax
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Utilisée'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.memUsage
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'GTT'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.gtt
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Fréquence'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.memClockMax
                            text_size: self.size

                        Label:
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: 'Température'
                            text_size: self.size
                        Label:
                            halign: 'right'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding: 10, 10
                            text: app.GPU.memTemp
                            text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                id: net_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'Network'
                    font_size: 22
                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.2, 0.2, 0.2, 1
                        Rectangle:
                            pos: self.x + 5, self.y
                            size: self.width - 15, self.height
                    canvas.after:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Carte'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'enp4s0'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Mode Duplex'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Full Duplex'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Débit Max'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '125.0 MB/s'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Réception'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '0 Octet(s)/s'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Envoi'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '0 Octet(s)/s'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Adresse IPV4'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '192.168.1.20'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Adresse IPV6'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '2d2e:84f4:d4a1:47e8:4aac:a486:14f5:ac14'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Données Reçues'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '12.55 MB'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Données Transmises'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: '857.25 KB'
                        text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                id: disk_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'Disk'
                    font_size: 22
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)
                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'disk_content'

<OptionsScreen>
    name: 'options_screen'
    on_pre_enter: app.root.ids.btn_options.background_color = [0, 0.55, 0.85, 1]
    on_pre_leave: app.root.ids.btn_options.background_color = [0.45, 0.45, 0.45, 1]
    ScrollView:
        size_hint: 2/3, 1
        pos_hint: {'x': 1/3, 'y': 0}
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 5
        scroll_type: ['bars', 'content']
        effect_cls: 'ScrollEffect'
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                text: 'options_screen_content TODO'

<AboutScreen>
    name: 'about_screen'
    on_pre_enter: app.root.ids.btn_about.background_color = [0, 0.55, 0.85, 1]
    on_pre_leave: app.root.ids.btn_about.background_color = [0.45, 0.45, 0.45, 1]
    ScrollView:
        size_hint: 2/3, 1
        pos_hint: {'x': 1/3, 'y': 0}
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 5
        scroll_type: ['bars', 'content']
        effect_cls: 'ScrollEffect'
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 22
                text: 'System Monitoring'
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 18
                text: 'Version'
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 16
                text: app.VERSION
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 16
                text: '\n\nCopyright © 2021-2023 Rabouteau Yoan'
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 16
                text_size: self.width, None
                markup: True
                text: 'This program is provided without any warranty. For details, [ref=''][color=#0088FF][u]visit GNU General Public License, version 3 only.[/u][/color][/ref]'
                on_ref_press: app.hyperLink()
