#: import SlideTransition kivy.uix.screenmanager.SlideTransition

<MainWindow>:
    name: 'MainWindow'
    id: main_window
    FloatLayout:
        canvas.after:
            Color:
                rgba: 1, 1, 1, 1
            Line:
                width: 1.5
                points: ((root.width / 3), 0, (root.width / 3), root.height)
        FloatLayout:
            canvas:
                Color:
                    rgba: 0.15, 0.15, 0.15, 1
                Rectangle:
                    pos: (root.width / 3), 0
                    size: ((root.width / 3) * 2), root.height
            ScreenManager:
                id: sm
                size_hint_y: 1
                MonitoringScreen:
                OptionsScreen:
                AboutScreen:
        FloatLayout:
            canvas:
                Color:
                    rgba: 0.15, 0.15, 0.15, 1
                Rectangle:
                    pos: self.x, self.y
                    size: root.width / 3, root.height
            Button:
                id: btn_resources
                text: 'Moniteur Ressources'
                font_size: 20
                background_color: 0, 0.55, 0.85, 1
                size_hint: 1/3, 1/10
                pos_hint: {'x': 0, 'y': 0.9}
                on_press:
                    sm.transition = SlideTransition()
                    sm.current = 'monitoring_screen'
            Button:
                id: btn_options
                text: 'Options'
                font_size: 20
                background_color: 0.45, 0.45, 0.45, 1
                size_hint: 1/3, 1/10
                pos_hint: {'x': 0, 'y': 0.8}
                on_press:
                    sm.transition = SlideTransition()
                    sm.current = 'options_screen'
            Button:
                id: btn_about
                text: "A Propos"
                font_size: 20
                background_color: 0.45, 0.45, 0.45, 1
                size_hint: 1/3, 1/10
                pos_hint: {'x': 0, 'y': 0.7}
                on_press:
                    sm.transition = SlideTransition()
                    sm.current = 'about_screen'

<MonitoringScreen>:
    name: 'monitoring_screen'
    on_pre_enter: app.root.ids.btn_resources.background_color = [0, 0.55, 0.85, 1]
    on_pre_leave: app.root.ids.btn_resources.background_color = [0.45, 0.45, 0.45, 1]

    ScrollView:
        size_hint: 2/3, 1
        pos_hint: {'x': 1/3, 'y': 0}
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 5
        scroll_type: ['bars', 'content']
        effect_cls: 'ScrollEffect'
        BoxLayout:
            orientation: 'vertical'
            id: main_box
            size_hint_y: None
            height: self.minimum_height

            BoxLayout:
                orientation: 'vertical'
                id: sys_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: "Système"
                    font_size: 22
                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: "Système d'exploitation"
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Linux Manjaro'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Noyau'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Linux-6.1.31-2-MANJARO-x86_64'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Processeur'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'AMD Ryzen 5 3600 6-Core'
                        text_size: self.size

                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'Processeur Graphique'
                        text_size: self.size
                    Label:
                        halign: 'right'
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'AMD Radeon RX 5700 XT'
                        text_size: self.size

            BoxLayout:
                orientation: 'vertical'
                id: cpu_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'CPU'
                    font_size: 22
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)
                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'cpu_content'

            BoxLayout:
                orientation: 'vertical'
                id: memory_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'Memory'
                    font_size: 22
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)
                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'memory_content'

            BoxLayout:
                orientation: 'vertical'
                id: gpu_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'GPU'
                    font_size: 22
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)
                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'gpu_content'

            BoxLayout:
                orientation: 'vertical'
                id: net_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'Network'
                    font_size: 22
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)
                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'network_content'

            BoxLayout:
                orientation: 'vertical'
                id: disk_box
                size_hint_y: None
                height: self.minimum_height
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 10, 10
                    text: 'Disk'
                    font_size: 22
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    canvas:
                        Color:
                            rgba: 0.45, 0.45, 0.6, 1
                        Line:
                            width: 1.2
                            rectangle: (self.x + 5, self.y, self.width - 15, self.height)
                    Label:
                        size_hint_y: None
                        height: self.texture_size[1]
                        padding: 10, 10
                        text: 'disk_content'

<OptionsScreen>
    name: 'options_screen'
    on_pre_enter: app.root.ids.btn_options.background_color = [0, 0.55, 0.85, 1]
    on_pre_leave: app.root.ids.btn_options.background_color = [0.45, 0.45, 0.45, 1]
    ScrollView:
        size_hint: 2/3, 1
        pos_hint: {'x': 1/3, 'y': 0}
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 5
        scroll_type: ['bars', 'content']
        effect_cls: 'ScrollEffect'
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                text: 'options_screen_content TODO'

<AboutScreen>
    name: 'about_screen'
    on_pre_enter: app.root.ids.btn_about.background_color = [0, 0.55, 0.85, 1]
    on_pre_leave: app.root.ids.btn_about.background_color = [0.45, 0.45, 0.45, 1]
    ScrollView:
        size_hint: 2/3, 1
        pos_hint: {'x': 1/3, 'y': 0}
        do_scroll_x: False
        do_scroll_y: True
        bar_width: 5
        scroll_type: ['bars', 'content']
        effect_cls: 'ScrollEffect'
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 22
                text: 'System Monitoring'
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 18
                text: 'Version'
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 16
                text: app.VERSION
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 16
                text: '\n\nCopyright © 2021-2023 Rabouteau Yoan'
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                padding: 10, 10
                font_size: 16
                text_size: self.width, None
                markup: True
                text: 'This program is provided without any warranty. For details, [ref=''][color=#0088FF][u]visit GNU General Public License, version 3 only.[/u][/color][/ref]'
                on_ref_press: app.hyperLink()
